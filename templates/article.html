{% extends "base.html" %}

{% set page = article %}
{% block title %}{{ article.title }} - {{ config.title }}{% endblock %}
{% block description %}{{ article.description | default(config.description) }}{% endblock %}
{% block og_type %}article{% endblock %}

{% block head %}
<!-- Article-specific meta -->
<meta property="article:published_time" content="{{ article.date }}">
{% if article.modified_date %}
<meta property="article:modified_time" content="{{ article.modified_date }}">
{% endif %}
{% if article.author %}
<meta property="article:author" content="{{ article.author }}">
{% endif %}
{% for tag in article.tags %}
<meta property="article:tag" content="{{ tag }}">
{% endfor %}
{% endblock %}

{% block content %}
<article class="article" itemscope itemtype="https://schema.org/Article">
    <header class="article-header">
        <h1 itemprop="headline">{{ article.title }}</h1>
        <div class="article-meta">
            {% if article.date %}
            <time datetime="{{ article.date }}" itemprop="datePublished">{{ article.date }}</time>
            {% endif %}
            {% if article.modified_date %}
            <meta itemprop="dateModified" content="{{ article.modified_date }}">
            {% endif %}
            {% if article.author %}
            <span class="author" itemprop="author" itemscope itemtype="https://schema.org/Person">
                by <span itemprop="name">{{ article.author }}</span>
            </span>
            {% endif %}
            {% if article.reading_time %}
            <span class="reading-time">{{ article.reading_time }} min read</span>
            {% endif %}
        </div>
    </header>

    {% if article.image %}
    <figure class="article-image">
        <img src="{{ article.image }}"
             alt="{{ article.image_alt | default(article.title) }}"
             width="1200"
             height="630"
             itemprop="image"
             loading="eager">
    </figure>
    {% endif %}

    <div class="article-content" itemprop="articleBody">
        {{ article.content_html | safe }}
    </div>

    {% if article.tags %}
    <footer class="article-footer">
        <ul class="tags">
            {% for tag in article.tags %}
            <li class="tag" itemprop="keywords">{{ tag }}</li>
            {% endfor %}
        </ul>
    </footer>
    {% endif %}
</article>

<nav class="article-nav">
    <a href="/">&larr; Back to home</a>
</nav>
{% endblock %}
